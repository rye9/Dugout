/* --- Mobile polish for iOS Safari (compact, non-breaking) --- */
/* =========================================================
   1) Design Tokens / Base
   ========================================================= */
:root{
  --gap-xxs:6px; --gap-xs:10px; --gap-s:12px; --gap-m:16px; --gap-l:20px; --gap-xl:26px;
  --radius:10px;
  --card:rgba(255,255,255,0.06);
  --card-b:rgba(255,255,255,0.10);
  --muted:rgba(255,255,255,0.65);
  --accent:#69a6ff;
}

html{ -webkit-text-size-adjust:100%; }

label{ font-size:12px; color:var(--muted); }

select,
input[type="text"],
input[type="number"]{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--card-b);
  background:rgba(255,255,255,0.04);
  color:inherit;
  -webkit-appearance:none;
  box-sizing:border-box;
}

input[type="number"]{ text-align:center; min-width:54px; }

/* =========================================================
   2) Containers / Panels
   ========================================================= */
section,.section{
  margin:var(--gap-l) 0;
  padding:var(--gap-m);
  background:var(--card);
  border:1px solid var(--card-b);
  border-radius:var(--radius);
}

/* =========================================================
   3) Roster
   ========================================================= */
.roster-controls{
  padding:12px;
  background:rgba(255,255,255,0.04);
  border:1px solid var(--card-b);
  border-radius:12px;
  margin-bottom:var(--gap-m);
  gap:12px;
  display:grid;
  grid-auto-rows:minmax(44px,auto);
}
.roster-controls::before{
  content:"Settings";
  display:block;
  font-weight:700;
  margin-bottom:6px;
  color:var(--muted);
  letter-spacing:.2px;
}

/* Cards */
.card,.player-card{
  margin-bottom:var(--gap-m);
  padding:var(--gap-m);
  background:rgba(255,255,255,0.03);
  border:1px solid var(--card-b);
  border-radius:var(--radius);
  overflow:hidden; /* clip any native control paint on iOS */
}

/* Card/grids shared */
.card .grid,.player-card__fields{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); /* never overlap */
  gap:12px;
}
.card .grid .field,.player-card__fields .field{
  display:grid;
  gap:var(--gap-xxs);
  min-width:0;    /* allow shrinking inside grid columns */
  overflow:hidden; /* clip select paint/focus rings */
  position:relative;
  contain:layout paint style;
}
.card .grid .field select,
.card .grid .field input,
.player-card__fields .field select,
.player-card__fields .field input{
  width:100%;
  max-width:100%;
  min-height:44px;
  font-size:16px; /* avoids iOS zoom */
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  padding:10px 12px;
}

/* =========================================================
   4) Game Setup
   ========================================================= */
.setup-block{ display:grid; gap:var(--gap-m); }

.role-row{
  display:grid;
  grid-template-columns:minmax(0,1fr) 120px 120px auto;
  gap:var(--gap-m);
  align-items:end;
  padding-top:12px;
}
.role-row + .role-row{
  margin-top:22px;
  padding-top:18px;
  border-top:1px dashed var(--card-b);
}
.role-row .cell{ display:grid; gap:var(--gap-xxs); }
.role-row .cell:first-child label{
  font-weight:700; font-size:14px; letter-spacing:.2px; color:#e7edf6;
}

/* Normalize control & row heights for perfect pitcher/catcher alignment */
.twocol .row{ align-items:center; min-height:64px; }
.row input[type="number"], .row input[type="text"]{ height:44px; line-height:44px; }

/* iOS-safe SELECT (custom look, no clipping, matches inputs) */
.row select{
  -webkit-appearance:none !important; appearance:none !important;
  height:44px !important; min-height:44px !important;
  line-height:normal !important;               /* do NOT equal height */
  padding:10px 36px 10px 12px !important;      /* room for caret */
  border-radius:10px !important;
  border:1px solid var(--card-b) !important;
  background-color:rgba(255,255,255,0.04) !important;
  color:inherit !important;
  white-space:nowrap !important;
  overflow:hidden !important;
  text-overflow:ellipsis !important;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%2369a6ff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat:no-repeat !important;
  background-position:right 10px center !important;
  background-size:14px !important;
  background-clip:padding-box !important;
  box-sizing:border-box !important;
  flex:1 1 280px !important; min-width:220px !important; /* names stay visible */
}
.row select:focus{
  outline:none;
  box-shadow:0 0 0 3px rgba(105,166,255,.45);
  border-color:rgba(105,166,255,.65);
}

/* Rest-day pill & badges */
.pill{
  padding:8px 14px; border-radius:999px; font-size:13px; line-height:1.2;
  border:1px solid var(--card-b); background:rgba(255,255,255,0.08);
  text-align:center; white-space:nowrap; margin:10px 6px 14px 6px; display:inline-block;
}
.badge{ padding:8px 12px; }
.row .badge{ margin-top:12px; margin-bottom:24px; display:inline-block; }
.badge.spacer{
  display:inline-block; padding:8px 14px; border-radius:999px; border:1px solid var(--card-b);
  margin-top:12px; margin-bottom:24px; min-width:88px; opacity:0;
}

/* Inning tracker bar */
.bar{ height:8px; background:#0e1627; border-radius:8px; overflow:hidden; margin-top:8px; }
.bar>span{ display:block; height:8px; background:#22c55e; }

/* =========================================================
   5) Buttons
   ========================================================= */
button,.btn,.actions button{
  padding:12px 18px; border-radius:12px; font-weight:700;
  border:1px solid var(--accent);
  background:rgba(105,166,255,0.18);
  background:color-mix(in oklab, var(--accent) 18%, transparent);
  box-shadow:0 0 0 1px rgba(105,166,255,0.28) inset, 0 8px 20px rgba(105,166,255,0.18);
  transition:background .15s ease, box-shadow .15s ease, transform .05s ease;
  color:#fff;
}
button:hover,.btn:hover,.actions button:hover{
  background:rgba(105,166,255,0.28);
  background:color-mix(in oklab, var(--accent) 28%, transparent);
  box-shadow:0 0 0 1px rgba(105,166,255,0.38) inset, 0 10px 28px rgba(105,166,255,0.25);
}
button:active,.btn:active,.actions button:active{ transform:translateY(1px); }
#buildBtn,#toggleEdit,.actions button{ color:#fff !important; } /* guard against overrides */

/* =========================================================
   6) Responsive
   ========================================================= */
/* Mobile (phones) */
@media (max-width:720px){
  .roster-controls{ grid-template-columns:1fr; }
  .card .grid,.player-card__fields{ grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px 12px; }
  .role-row{ grid-template-columns:1fr !important; }
  .role-row>.cell{ margin-bottom:12px; }
  .role-row + .role-row{ margin-top:24px; padding-top:20px; }
  .setup-block{ display:flex; flex-direction:column; gap:18px; }
  .panel h2 + .flex{ flex-direction:column; gap:12px; }
}

/* Tablet / Desktop */
@media (min-width:721px){
  .card .grid,.player-card__fields{ grid-template-columns:repeat(4,minmax(0,1fr)); }
  .role-row{ grid-template-columns:minmax(280px,2fr) 120px 120px auto; }
}

/* Larger desktop refinements */
@media (min-width:900px){
  .twocol{ grid-template-columns:1fr 1fr; column-gap:48px; align-items:start; }
  .twocol>div h3{ margin-top:0; }
  .row{ align-items:center; }
  .row input[type="number"]{ height:42px; } /* keeps row feel consistent */
  .row input[type="number"]{ flex:0 0 54px; min-width:54px; } /* donâ€™t steal width from select */
  .row .mini{ min-width:auto; }
}

/* Very small phones */
@media (max-width:390px){
  .card .grid,.player-card__fields{ gap:8px 10px; }
  .card .grid .field select,.card .grid .field input,
  .player-card__fields .field select,.player-card__fields .field input{
    min-height:42px; padding:8px 10px; font-size:15px;
  }
}

/* Ultra-narrow fallback */
@media (max-width:340px){
  .card .grid,.player-card__fields{ grid-template-columns:1fr; }
}
